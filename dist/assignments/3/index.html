<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Assignment 2B</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
            rel="stylesheet" 
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
            crossorigin="anonymous">
       
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
          
              
    </head>
    <body>
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="/" aria-current="page">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="/CMS_Blog" aria-current="page">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="/about" aria-current="page">About</a></li>
                <li class="nav-item"><a class="nav-link" href="/experience" aria-current="page">Expertise</a></li>
                <li class="nav-item"><a class="nav-link" href="/resume" aria-current="page">Resume</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="notesDropdown" role="button"
                       data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Dropdown for Projects">
                        Projects
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="notesDropdown">
                        <li><a class="dropdown-item" href="/academic">Academic</a></li>
                        <li><a class="dropdown-item" href="/personal">Personal</a></li>
                    </ul>
                </li>

                <!-- Dropdown menu with hover effect -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="notesDropdown" role="button"
                       data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Dropdown for Notes">
                        Notes
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="notesDropdown">
                        <li><a class="dropdown-item" href="/WDFnotes">Frameworks</a></li>
                        <li><a class="dropdown-item" href="/CICS">Mainframe CICS</a></li>
                        <li><a class="dropdown-item" href="/Placement">Field Placement</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
            
    <div class="container">
        <div class="row border-bottom pb-3 mb-4 justify-content-center">
            <div class="col-lg-6 my-4 mt-5" style="padding-top: 40px;">
                <h1 class="display-6 text-center">
                    
                    
                    
                    
                    
                    
                    
                    A2 Deliverable: CMS Implementation
                    
                    
                    
                    
                </h1>
            </div>
            <div class="col-md-4 my-4 text-end">
                <div class="card border-0 bg-light shadow-lg rounded-3">
                    <div class="card-body p-4">
                        <p class="card-text text-uppercase text-primary fw-bold mb-2">Durham College - SEIT</p>
                        <p class="card-text mb-2">Ramiyan Gangatharan</p>
                        <p class="card-text mb-2">100835223</p>
                        <p class="card-text mb-2">
                            November 22, 2024
                        </p>
                        <p class="card-text text-muted mb-0">Web Development: Frameworks</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

            
                <div class="text-center mt-4 mb-4">
    <nav class="navbar-expand-lg navbar-light bg-transparent">
        <div class="container-fluid d-flex justify-content-center">
            <ul class="navbar-nav d-flex flex-wrap justify-content-center">
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/">Assignment 1A</a></div></li>
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/1/">Assignment 1B</a></div></li>
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/2/">Assignment 2A</a></div></li>
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/3/">Assignment 2B</a></div></li>
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/4/">Assignment 3A</a></div></li>
                <li class="nav-item me-2"><div class="card text-center"><a class="nav-link card-body p-3" href="/assignments/5/">Assignment 3B</a></div></li>
            </ul>
        </div>
    </nav>
    <div class="text-center text-muted"><small>navigate here</small></div>
</div>
            
            
        </header>
    
        <main class="container my-4">
            

  <article>
    <!-- Loop through images -->
    <div class="image-gallery">
      
        
          <img 
            class="rounded mx-auto mb-4 d-block"
            src="http://localhost:1337/uploads/Strapi2_4cd00a66f8.jpg" 
            alt="Assignment 2B">
        
      
    </div>

    <!-- Content Display -->
    <div><style>
    .content-container { margin: 0 auto; max-width: 8.5in; padding: 20px; text-align: justify;} 
    .content-container p { margin-bottom: 15px;} 
    .content-container h3 { text-align: center; margin-bottom: 20px; } 
</style>

<div class="content-container">

<h2>Introduction</h2>
<p>This assignment documents my experience integrating a headless content management system (CMS) into a pre-existing website. A headless CMS operates as a backend-only solution, enabling content to be created, managed, and delivered through APIs, separate from the front-end design. This decoupling allows for flexibility in using modern technologies, such as front-end frameworks and static site generators (SSGs). Throughout the project, I explored the functionalities of a headless CMS, including system setup, content management, and API integration for data retrieval and display. The pre-existing website served as an ideal testing environment, helping me understand how headless CMS solutions can be incorporated without disrupting the core architecture. The process was not without challenges, such as adapting the front-end to consume CMS data, optimizing API performance, and maintaining consistent user experience across the site. Ultimately, I analyzed the benefits of using a headless CMS, such as improved scalability, streamlined development, and the ability to reuse content across multiple platforms. This assignment offered valuable insights into the practical considerations of implementing a headless CMS and hands-on experience with both its advantages and challenges.</p>
<br>

<h2>API Interaction</h2>
<p>Strapi served as the backbone for managing dynamic content, reducing the need for hardcoded files on the website by fetching content through its API. This shift led to a decrease in file size, the number of files, and overall resource consumption, including RAM usage. One of Strapi&#39;s key benefits is its abstraction layer, which allows website administrators to modify content without altering the core codebase, reducing the risk of accidental errors. Moreover, it enables dynamic content management using &quot;Collections,&quot; making data retrieval faster and more efficient than traditional database querying. I set up an &quot;API&quot; project where all API-related resources were managed, replacing much of the site&#39;s static content-fetching logic. Instead of managing 42 separate files, I dynamically retrieved the same data through the CMS, significantly optimizing resource usage.</p>
<p>A challenge I encountered was understanding Strapi’s local operation, particularly the need to restart the server after updates, which added complexity to development. Additionally, I faced issues with data visibility due to role permissions, which I resolved by reviewing Strapi’s documentation and configuring the appropriate permissions for each role. Despite these challenges, the final result was a more scalable and user-friendly website, with reduced file counts and improved content management workflows. </p>
<br>

<h3>Code Examples for API Interactions</h3>
<hr>
<br>

<p>The following utility function streamlined the process of fetching data from Strapi’s API:</p>
<br>

<pre><code class="language-js">async function fetchStrapiData(endpoint, description) {
    try {
        const response = await fetch(`http://localhost:1337/api/${endpoint}`);
        if (!response.ok) {
            throw new Error(`Failed to fetch ${description}: ${response.statusText}`);
        }
        return (await response.json()).data;
    } catch (error) {
        console.error(`Error fetching ${description} from Strapi:`, error);
        return [];
    }
}
</code></pre>
<br>

<p>This function enabled efficient, reusable API calls by dynamically targeting any endpoint based on the collection name.</p>
<br>

<hr>
<br>

<p>To make Strapi data globally accessible in Eleventy, I configured global data for labs and assignments as follows:
<br></p>
<pre><code class="language-js">eleventyConfig.addGlobalData(&quot;labs&quot;, async () =&gt; {
    const labs = await fetchStrapiData(&quot;labs&quot;, &quot;lab content&quot;);
    return labs.map(post =&gt; ({ ...post, Content: marked(post.Content) }));
});

eleventyConfig.addGlobalData(&quot;assignments&quot;, async () =&gt; {
    const assignments = await fetchStrapiData(&quot;assignments&quot;, &quot;assignment content&quot;);
    return assignments.map(post =&gt; ({ ...post, Content: marked(post.Content) }));
});
</code></pre>
<br>

<hr>
<br>

<p>The data was transformed using the marked() markdown compiler, which I chose for its simplicity and minimal setup over Eleventy&#39;s default markdown-it plugin. The following labs.ejs template demonstrates how I rendered the dynamic content:</p>
<br>

<pre><code class="language-ejs">---
layout: layout/mylayout.ejs

pagination:
  data: labs
  size: 1
  alias: post

eleventyComputed: 
    title: &lt;%- post.Title %&gt;
---

&lt;% pagination.items.forEach(post =&gt; { %&gt;
  &lt;article&gt;
    &lt;div&gt;&lt;%- post.Content %&gt;&lt;/div&gt;
  &lt;/article&gt;
&lt;% }); %&gt;
</code></pre>
<br>

<p>This configuration allows for efficient pagination of content fetched from Strapi, ensuring a user-friendly layout with Bootstrap styling.</p>
<br>

<hr>
<br>

<h2>Content Modelling</h2>
<p>Content modeling in Strapi is intuitive and requires minimal setup. It involves defining the structure and types of content needed for specific sections of your site. For example, a blog page may require a title (short text), content (long text), and an image, while a storefront might need additional fields like a URL, multiple images, and various text types. In Strapi, the Content-Type Builder allows you to create a new collection and define its fields with the appropriate data types. After saving the collection, Strapi restarts the server to apply the changes. The Content Manager lets you add entries to the collection, ensuring they adhere to the defined structure.</p>
<p>Initially, understanding the effective use of different data types for media was a challenge. Once I worked through creating several collections, I became more comfortable with the process. Server shutdowns due to user errors occasionally slowed my progress, but they also provided valuable learning experiences. Ultimately, this part of the CMS implementation was a success, encouraging a more organized and thoughtful approach to content management. The structured approach helped me prioritize consistency in the data I fed into the API, improving overall organization and reducing the risk of errors.</p>
<br>

<h2>Template Design</h2>
<p>The Static Site Generator (SSG) I used for this project was Eleventy (11ty), paired with EJS (Embedded JavaScript) as the templating language. EJS is a simple, lightweight templating system that allows developers to generate dynamic HTML by embedding JavaScript directly into templates. The syntax, using &lt;%= %&gt; for outputting data and &lt;% %&gt; for logic like loops and conditionals, makes it ideal for rendering dynamic content. EJS is commonly used in server-side environments like Node.js and is great for creating reusable layouts and managing dynamic content.</p>
<p>For more details on how I integrated EJS into Eleventy, refer to Assignment 1B. To connect the CMS to my Eleventy project, I replaced hardcoded data with for and forEach loops that dynamically iterate through CMS collections. This approach allows a single template file to support multiple variations of content, demonstrating the power of templating.</p>
<p>EJS made it easier to implement dynamic content by acting as a bridge between Strapi&#39;s data and the static HTML structure of the website. By automating content rendering, I eliminated the need for frequent updates to static files, simplifying scalability and improving the content management process.</p>
<p>The primary challenge I faced was learning to use EJS, Eleventy, and Strapi together, as I had no prior experience with CMS tools or Eleventy. Understanding JavaScript syntax and the integration process was initially difficult, but, I learned to offload much of the work to the CMS, resulting in a more efficient and cleaner codebase.</p>
<br>

<h2>Pagination &amp; Filtering</h2>
<p>Pagination made large datasets more manageable by breaking long posts into smaller, readable sections. It improves readability, enhances user experience, and prevents information overload. Pagination reduces page load times by fetching only a portion of the data at a time, lowers server load, and aids in SEO by allowing search engines to crawl and index content more efficiently. It optimizes content organization and ensures faster browsing, making it a crucial feature for content-heavy websites.</p>
<p>I implemented pagination by creating a partial file containing the pagination buttons, and Eleventy handled most of the processing. In the Eleventy configuration, I specified which pages would include the pagination partial. A challenge I faced was understanding how to create the necessary metadata for pagination, as it initially seemed unclear. However, once I understood the concept, the implementation was straightforward, and the pagination now works seamlessly.</p>
<p>NOTE: I tried to attempt to implement filtering, but EJS does not support 11ty filters.</p>
</div></div>
  </article>



            <nav aria-label="Page navigation" class="mt-4">
    <ul class="pagination justify-content-center">
        <li class="page-item"><a class="page-link" href="/assignments/2/">Previous</a></li>
        
        

        <li class="page-item"><a class="page-link" href="/assignments/4/">Next</a></li>
    </ul>
</nav>
            
        </main>

        <footer class="text-center mt-4"><div class="container">
    <p class="mb-1">&copy; <span id="copyrightYear"></span> Ramiyan Gangatharan - 100835223</p>
    <ul class="list-inline">
        <li class="list-inline-item"><a href="/" class="text-muted">Home</a></li>
        <li class="list-inline-item"><a href="/blog" class="text-muted">Blog</a></li>
        <li class="list-inline-item"><a href="https://www.linkedin.com/in/ramiyan-gangatharan/" class="text-muted">LinkedIn</a></li>
        <li class="list-inline-item"><a href="/TOC" class="text-muted">Terms &amp; Conditions</a></li>
    </ul>
</div>
<script>document.getElementById("copyrightYear").textContent = new Date().getFullYear();</script></footer>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    </body>
</html>